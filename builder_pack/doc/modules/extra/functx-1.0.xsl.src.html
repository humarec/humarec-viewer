<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>XML source view</title><link rel="stylesheet" type="text/css" href="../../xmlverbatim.css"></link></head><body class="xmlverb-default"><tt>
<!-- converted by xmlverbatim.xsl 1.1, (c) O. Becker -->
<div xmlns:xd="http://www.pnp-software.com/XSLTdoc" class="xmlverb-default">&lt;!--<span class="xmlverb-comment"><br></br>
<br></br>
 ********************************<br></br>
 The FunctX XSLT Function Library<br></br>
 ********************************<br></br>
<br></br>
 Copyright (C) 2007 Datypic<br></br>
<br></br>
 This library is free software; you can redistribute it and/or<br></br>
 modify it under the terms of the GNU Lesser General Public<br></br>
 License as published by the Free Software Foundation; either<br></br>
 version 2.1 of the License.<br></br>
<br></br>
 This library is distributed in the hope that it will be useful,<br></br>
 but WITHOUT ANY WARRANTY; without even the implied warranty of<br></br>
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU<br></br>
 Lesser General Public License for more details.<br></br>
<br></br>
 You should have received a copy of the GNU Lesser General Public<br></br>
 License along with this library; if not, write to the Free Software<br></br>
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA<br></br>
<br></br>
 For more information on the FunctX XSLT library, contact contrib@functx.com.<br></br>
<br></br>
 @version 1.0<br></br>
 @see     http://www.xsltfunctions.com<br></br>
</span>--&gt;<br></br>
&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e2">stylesheet</a></span><span class="xmlverb-ns-name"> xmlns:xsl</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/XSL/Transform</span>"<span class="xmlverb-ns-name"> xmlns:dxmlf</span>="<span class="xmlverb-ns-uri">http://www.datypic.com/xmlf</span>"<span class="xmlverb-ns-name"> xmlns:xs</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2001/XMLSchema</span>"<span class="xmlverb-ns-name"> xmlns:fn</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2005/xpath-functions</span>"<span class="xmlverb-ns-name"> xmlns:local</span>="<span class="xmlverb-ns-uri">http://www.datypic.com/local</span>"<span class="xmlverb-ns-name"> xmlns:functx</span>="<span class="xmlverb-ns-uri">http://www.functx.com</span>" <span class="xmlverb-attr-name">exclude-result-prefixes</span>="<span class="xmlverb-attr-content">dxmlf xs</span>" <span class="xmlverb-attr-name">version</span>="<span class="xmlverb-attr-content">2.0</span>"&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Adds attributes to XML elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_add-attributes.html <br></br>
 @param   $elements the element(s) to which you wish to add the attribute <br></br>
 @param   $attrNames the name(s) of the attribute(s) to add <br></br>
 @param   $attrValues the value(s) of the attribute(s) to add <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e6">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:add-attributes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e8">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e10">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrNames</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e12">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrValues</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e14">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e16">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e18">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e20">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrNames</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e22">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e24">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">not($element/@*[node-name(.) = current()])</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e26">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{.}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{namespace-uri-from-QName(.)}</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrValues[$seq]</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e30">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*|node()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Adds months to a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_add-months.html <br></br>
 @param   $date the date <br></br>
 @param   $months the number of months to add <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e37">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:add-months</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e39">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e41">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">months</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e43">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:date($date) + functx:yearMonthDuration(0,$months)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Adds attributes to XML elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_add-or-update-attributes.html <br></br>
 @param   $elements the element(s) to which you wish to add the attribute <br></br>
 @param   $attrNames the name(s) of the attribute(s) to add <br></br>
 @param   $attrValues the value(s) of the attribute(s) to add <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e49">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:add-or-update-attributes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e51">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e53">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrNames</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e55">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrValues</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e57">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e59">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e61">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrNames</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e63">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e65">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{.}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{namespace-uri-from-QName(.)}</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrValues[$seq]</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e68">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*[not(node-name(.) = $attrNames)]|node()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a value is all whitespace or a zero-length string <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_all-whitespace.html <br></br>
 @param   $arg the string (or node) to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e75">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:all-whitespace</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e77">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e79">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">normalize-space($arg) = ''</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether all the values in a sequence are distinct <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_are-distinct-values.html <br></br>
 @param   $seq the sequence of values <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e84">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:are-distinct-values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e86">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e88">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">count(distinct-values($seq)) = count($seq)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The built-in type of an atomic value <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_atomic-type.html <br></br>
 @param   $values the value(s) whose type you want to determine <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e94">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:atomic-type</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e96">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e98">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $val in $values return (if ($val instance of xs:untypedAtomic) then 'xs:untypedAtomic' else if ($val instance of xs:anyURI) then 'xs:anyURI' else if ($val instance of xs:string) then 'xs:string' else if ($val instance of xs:QName) then 'xs:QName' else if ($val instance of xs:boolean) then 'xs:boolean' else if ($val instance of xs:base64Binary) then 'xs:base64Binary' else if ($val instance of xs:hexBinary) then 'xs:hexBinary' else if ($val instance of xs:integer) then 'xs:integer' else if ($val instance of xs:decimal) then 'xs:decimal' else if ($val instance of xs:float) then 'xs:float' else if ($val instance of xs:double) then 'xs:double' else if ($val instance of xs:date) then 'xs:date' else if ($val instance of xs:time) then 'xs:time' else if ($val instance of xs:dateTime) then 'xs:dateTime' else if ($val instance of xs:dayTimeDuration) then 'xs:dayTimeDuration' else if ($val instance of xs:yearMonthDuration) then 'xs:yearMonthDuration' else if ($val instance of xs:duration) then 'xs:duration' else if ($val instance of xs:gMonth) then 'xs:gMonth' else if ($val instance of xs:gYear) then 'xs:gYear' else if ($val instance of xs:gYearMonth) then 'xs:gYearMonth' else if ($val instance of xs:gDay) then 'xs:gDay' else if ($val instance of xs:gMonthDay) then 'xs:gMonthDay' else 'unknown')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The average, counting "empty" values as zero <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_avg-empty-is-zero.html <br></br>
 @param   $values the values to be averaged <br></br>
 @param   $allNodes the sequence of all nodes to find the average over <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e103">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:avg-empty-is-zero</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:double</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e105">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e107">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allNodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e109">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (empty($allNodes)) then 0 else sum($values[string(.) != '']) div count($allNodes)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a value is between two provided values <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_between-exclusive.html <br></br>
 @param   $value the value to be tested <br></br>
 @param   $minValue the minimum value <br></br>
 @param   $maxValue the maximum value <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e114">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:between-exclusive</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e116">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e118">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">minValue</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e120">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">maxValue</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e122">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$value &amp;gt; $minValue and $value &amp;lt; $maxValue</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a value is between two provided values, or equal to one of them <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_between-inclusive.html <br></br>
 @param   $value the value to be tested <br></br>
 @param   $minValue the minimum value <br></br>
 @param   $maxValue the maximum value <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e128">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:between-inclusive</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e130">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e132">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">minValue</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e134">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">maxValue</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e136">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$value &amp;gt;= $minValue and $value &amp;lt;= $maxValue</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Turns a camelCase string into space-separated words <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_camel-case-to-words.html <br></br>
 @param   $arg the string to modify <br></br>
 @param   $delim the delimiter for the words (e.g. a space) <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e141">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:camel-case-to-words</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e143">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e145">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">delim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e147">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(substring($arg,1,1), replace(substring($arg,2),'(\p{Lu})', concat($delim, '$1')))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Capitalizes the first character of a string <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_capitalize-first.html <br></br>
 @param   $arg the word or phrase to capitalize <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e152">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:capitalize-first</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e154">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e156">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(upper-case(substring($arg,1,1)), substring($arg,2))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Changes the names of elements in an XML fragment <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_change-element-names-deep.html <br></br>
 @param   $nodes the element(s) to change <br></br>
 @param   $oldNames the sequence of names to change from <br></br>
 @param   $newNames the sequence of names to change to <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e162">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:change-element-names-deep</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e164">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e166">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">oldNames</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e168">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">newNames</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e170">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">count($oldNames) != count($newNames)</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e172">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">error( xs:QName('functx:Different_number_of_names'))</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e175">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e177">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e179">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e181">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$node instance of element()</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e183">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">theName</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:if-empty ($newNames[index-of($oldNames, node-name($node))], node-name($node))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e185">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{$theName}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{namespace-uri-from-QName($theName)}</span>"&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e187">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($node/@*, functx:change-element-names-deep($node/node(), $oldNames, $newNames))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e191">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$node instance of document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e193">document</a></span>&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e195">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:change-element-names-deep( $node/node(), $oldNames, $newNames)</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">document</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e199">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e201">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$node</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Changes the namespace of XML elements and its descendants <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_change-element-ns-deep.html <br></br>
 @param   $nodes the nodes to change <br></br>
 @param   $newns the new namespace <br></br>
 @param   $prefix the prefix to use for the new namespace <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e209">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:change-element-ns-deep</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e211">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e213">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">newns</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e215">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e217">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e219">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e221">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e223">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$node instance of element()</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e225">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{concat($prefix, if ($prefix = '') then '' else ':', local-name($node))}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{$newns}</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e227">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($node/@*, functx:change-element-ns-deep($node/node(), $newns, $prefix))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e231">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$node instance of document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e233">document</a></span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e235">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:change-element-ns-deep( $node/node(), $newns, $prefix)</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">document</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e239">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e241">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$node</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Changes the namespace of XML elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_change-element-ns.html <br></br>
 @param   $elements the elements to change <br></br>
 @param   $newns the new namespace <br></br>
 @param   $prefix the prefix to use for the new namespace <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e249">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:change-element-ns</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e251">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e253">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">newns</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e255">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">prefix</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e257">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e259">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e261">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{concat($prefix, if ($prefix = '') then '' else ':', local-name($element))}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{$newns}</span>"&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e263">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$element/@*, $element/node()</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Converts a string to a sequence of characters <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_chars.html <br></br>
 @param   $arg the string to split <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e271">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:chars</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e273">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e275">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $ch in string-to-codepoints($arg) return codepoints-to-string($ch)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a string contains any of a sequence of strings <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_contains-any-of.html <br></br>
 @param   $arg the string to test <br></br>
 @param   $searchStrings the strings to look for <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e280">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:contains-any-of</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e282">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e284">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">searchStrings</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e286">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">some $searchString in $searchStrings satisfies contains($arg,$searchString)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether one string contains another, without regard to case <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_contains-case-insensitive.html <br></br>
 @param   $arg the string to search <br></br>
 @param   $substring the substring to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e291">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:contains-case-insensitive</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e293">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e295">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">substring</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e297">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">contains(upper-case($arg), upper-case($substring))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether one string contains another, as a separate word <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_contains-word.html <br></br>
 @param   $arg the string to search <br></br>
 @param   $word the word to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e303">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:contains-word</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e305">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e307">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">word</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e309">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">matches(upper-case($arg), concat('^(.*\W)?', upper-case(functx:escape-for-regex($word)), '(\W.*)?$'))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Copies attributes from one element to another <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_copy-attributes.html <br></br>
 @param   $copyTo the element to copy attributes to <br></br>
 @param   $copyFrom the element to copy attributes from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e314">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:copy-attributes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e316">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">copyTo</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e318">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">copyFrom</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e320">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($copyTo)}</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e322">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($copyTo/@*[not(node-name(.) = $copyFrom/@*/node-name(.))], $copyFrom/@*, $copyTo/node())</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Construct a date from a year, month and day <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_date.html <br></br>
 @param   $year the year <br></br>
 @param   $month the month <br></br>
 @param   $day the day <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e328">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e330">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e332">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">month</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e334">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">day</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e336">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:date( concat( functx:pad-integer-to-length(xs:integer($year),4),'-', functx:pad-integer-to-length(xs:integer($month),2),'-', functx:pad-integer-to-length(xs:integer($day),2)))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Construct a date/time from individual components <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_datetime.html <br></br>
 @param   $year the year <br></br>
 @param   $month the month <br></br>
 @param   $day the day <br></br>
 @param   $hour the hour <br></br>
 @param   $minute the minute <br></br>
 @param   $second the second <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e342">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:dateTime</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dateTime</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e344">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e346">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">month</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e348">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">day</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e350">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">hour</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e352">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">minute</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e355">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">second</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e357">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:dateTime( concat(functx:date($year,$month,$day),'T', functx:time($hour,$minute,$second)))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The day of the year (a number between 1 and 366) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_day-in-year.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e362">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:day-in-year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e364">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e366">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">days-from-duration( xs:date($date) - functx:first-day-of-year($date)) + 1</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The abbreviated day of the week, from a date, in English <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_day-of-week-abbrev-en.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e371">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:day-of-week-abbrev-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e373">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e375">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('Sun', 'Mon', 'Tues', 'Wed', 'Thurs', 'Fri', 'Sat') [functx:day-of-week($date) + 1]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The name of the day of the week, from a date, in English <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_day-of-week-name-en.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e381">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:day-of-week-name-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e383">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e385">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday') [functx:day-of-week($date) + 1]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The day of the week, from a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_day-of-week.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e390">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:day-of-week</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e392">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e394">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (empty($date)) then () else xs:integer((xs:date($date) - xs:date('1901-01-06')) div xs:dayTimeDuration('P1D')) mod 7</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Construct a dayTimeDuration from a number of days, hours, etc. <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_daytimeduration.html <br></br>
 @param   $days the number of days <br></br>
 @param   $hours the number of hours <br></br>
 @param   $minutes the number of minutes <br></br>
 @param   $seconds the number of seconds <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e399">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:dayTimeDuration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e401">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">days</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e403">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">hours</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e405">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">minutes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e407">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seconds</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e409">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(xs:dayTimeDuration('P1D') * functx:if-empty($days,0)) + (xs:dayTimeDuration('PT1H') * functx:if-empty($hours,0)) + (xs:dayTimeDuration('PT1M') * functx:if-empty($minutes,0)) + (xs:dayTimeDuration('PT1S') * functx:if-empty($seconds,0))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Number of days in the month <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_days-in-month.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e415">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:days-in-month</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e417">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e419">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (month-from-date(xs:date($date)) = 2 and functx:is-leap-year($date)) then 29 else (31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31) [month-from-date(xs:date($date))]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The depth (level) of a node in an XML tree <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_depth-of-node.html <br></br>
 @param   $node the node to check <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e424">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:depth-of-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e426">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e428">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">count($node/ancestor-or-self::node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The distinct names of all attributes in an XML fragment <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_distinct-attribute-names.html <br></br>
 @param   $nodes the root to start from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e433">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:distinct-attribute-names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e435">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e437">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values($nodes//@*/name(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML nodes with distinct values, taking into account attributes and descendants <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_distinct-deep.html <br></br>
 @param   $nodes the sequence of nodes to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e443">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:distinct-deep</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e445">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e447">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $seq in (1 to count($nodes)) return $nodes[$seq][not(functx:is-node-in-sequence-deep-equal( .,$nodes[position() &amp;lt; $seq]))]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The distinct names of all elements in an XML fragment <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_distinct-element-names.html <br></br>
 @param   $nodes the root(s) to start from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e452">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:distinct-element-names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e454">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e456">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values($nodes/descendant-or-self::*/name(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The distinct paths of all descendant elements in an XML fragment <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_distinct-element-paths.html <br></br>
 @param   $nodes the root(s) to start from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e461">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:distinct-element-paths</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e463">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e465">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values(functx:path-to-node($nodes/descendant-or-self::*))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The distinct XML nodes in a sequence (by node identity) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_distinct-nodes.html <br></br>
 @param   $nodes the node sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e471">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:distinct-nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e473">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e475">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $seq in (1 to count($nodes)) return $nodes[$seq][not(functx:is-node-in-sequence( .,$nodes[position() &amp;lt; $seq]))]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Converts a timezone like "-05:00" or "Z" into xs:dayTimeDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_duration-from-timezone.html <br></br>
 @param   $timezone the time zone, in (+|-)HH:MM format <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e480">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:duration-from-timezone</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e482">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">timezone</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e484">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration( if (not(matches($timezone,'Z|[\+\-]\d{2}:\d{2}'))) then error(xs:QName('functx:Invalid_Timezone_Value')) else if ($timezone = 'Z') then 'PT0S' else replace($timezone,'\+?(\d{2}):\d{2}','PT$1H') )</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Dynamically evaluates a simple XPath path <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_dynamic-path.html <br></br>
 @param   $parent the root to start from <br></br>
 @param   $path the path expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e489">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:dynamic-path</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e491">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">parent</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e493">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">path</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e495">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nextStep</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:substring-before-if-contains($path,'/')</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e497">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">restOfSteps</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">substring-after($path,'/')</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e499">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($parent/*[functx:name-test(name(),$nextStep)], $parent/@*[functx:name-test(name(), substring-after($nextStep,'@'))])</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e501">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">child</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e503">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if ($restOfSteps) then functx:dynamic-path($child, $restOfSteps) else $child</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Escapes regex special characters <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_escape-for-regex.html <br></br>
 @param   $arg the string to escape <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e510">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:escape-for-regex</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e512">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e514">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg, '(\.|\[|\]|\\|\||\-|\^|\$|\?|\*|\+|\{|\}|\(|\))','\\$1')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether one (and only one) of two boolean values is true <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_exclusive-or.html <br></br>
 @param   $arg1 the first boolean value <br></br>
 @param   $arg2 the second boolean value <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e519">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:exclusive-or</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e521">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e523">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e525">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$arg1 != $arg2</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first day of the month of a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_first-day-of-month.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e530">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:first-day-of-month</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e532">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e534">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:date(year-from-date(xs:date($date)), month-from-date(xs:date($date)), 1)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first day of the year of a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_first-day-of-year.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e540">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:first-day-of-year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e542">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e544">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:date(year-from-date(xs:date($date)), 1, 1)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML node in a sequence that appears first in document order <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_first-node.html <br></br>
 @param   $nodes the sequence of nodes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e549">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:first-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e551">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e553">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($nodes/.)[1]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node follows another without being its descendant <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_follows-not-descendant.html <br></br>
 @param   $a the first node <br></br>
 @param   $b the second node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e558">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:follows-not-descendant</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e560">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">a</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e562">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">b</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e564">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$a &amp;gt;&amp;gt; $b and empty($b intersect $a/ancestor::node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Moves title words like "the" and "a" to the end of strings <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_format-as-title-en.html <br></br>
 @param   $titles the titles to format <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e570">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:format-as-title-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e572">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">titles</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e574">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">wordsToMoveToEnd</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('A', 'An', 'The')</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e576">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$titles</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e578">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">title</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e580">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">firstWord</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:substring-before-match($title,'\W')</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e582">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if ($firstWord = $wordsToMoveToEnd) then replace($title,'(.*?)\W(.*)', '$2, $1') else $title</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Returns the fragment from a URI <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_fragment-from-uri.html <br></br>
 @param   $uri the URI <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e588">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:fragment-from-uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e590">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e592">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">substring-after($uri,'#')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an element has element-only content <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_has-element-only-content.html <br></br>
 @param   $element the XML element to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e597">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:has-element-only-content</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e599">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e601">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">not($element/text()[normalize-space(.) != '']) and $element/*</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an element has empty content <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_has-empty-content.html <br></br>
 @param   $element the XML element to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e607">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:has-empty-content</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e609">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e611">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">not($element/node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an element has mixed content <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_has-mixed-content.html <br></br>
 @param   $element the XML element to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e616">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:has-mixed-content</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e618">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e620">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$element/text()[normalize-space(.) != ''] and $element/*</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an element has simple content <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_has-simple-content.html <br></br>
 @param   $element the XML element to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e625">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:has-simple-content</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e627">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e629">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$element/text() and not($element/*)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Gets the ID of an XML element <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_id-from-element.html <br></br>
 @param   $element the element <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e635">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:id-from-element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e637">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e639">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">data(($element/@*[id(.) is ..])[1])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Gets XML element(s) that have an attribute with a particular value <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_id-untyped.html <br></br>
 @param   $node the root node(s) to start from <br></br>
 @param   $id the "id" to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e644">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:id-untyped</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e646">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e648">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">id</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e650">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$node//*[@* = $id]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first argument if it is not empty, otherwise the second argument <br></br>
<br></br>
 @author  W3C XML Query WG <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_if-absent.html <br></br>
 @param   $arg the item(s) that may be absent <br></br>
 @param   $value the item(s) to use if the item is absent <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e655">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:if-absent</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e657">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e659">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e661">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (exists($arg)) then $arg else $value</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first argument if it is not blank, otherwise the second argument <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_if-empty.html <br></br>
 @param   $arg the node that may be empty <br></br>
 @param   $value the item(s) to use if the node is empty <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e667">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:if-empty</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e669">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e671">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e673">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (string($arg) != '') then data($arg) else $value</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The position of a node in a sequence, based on contents and attributes <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-deep-equal-node.html <br></br>
 @param   $nodes the node sequence <br></br>
 @param   $nodeToFind the node to find in the sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e678">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-deep-equal-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e680">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e682">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodeToFind</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e684">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $seq in (1 to count($nodes)) return $seq[deep-equal($nodes[$seq],$nodeToFind)]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first position of a matching substring <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-match-first.html <br></br>
 @param   $arg the string <br></br>
 @param   $pattern the pattern to match <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e689">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-match-first</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e691">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e693">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pattern</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e695">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (matches($arg,$pattern)) then string-length(tokenize($arg, $pattern)[1]) + 1 else ()</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The position of a node in a sequence, based on node identity <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-node.html <br></br>
 @param   $nodes the node sequence <br></br>
 @param   $nodeToFind the node to find in the sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e701">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e703">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e705">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodeToFind</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e707">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $seq in (1 to count($nodes)) return $seq[$nodes[$seq] is $nodeToFind]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The first position of a substring <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-string-first.html <br></br>
 @param   $arg the string <br></br>
 @param   $substring the substring to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e712">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-string-first</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e714">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e716">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">substring</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e718">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (contains($arg, $substring)) then string-length(substring-before($arg, $substring))+1 else ()</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The last position of a substring <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-string-last.html <br></br>
 @param   $arg the string <br></br>
 @param   $substring the substring to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e723">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-string-last</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e725">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e727">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">substring</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e729">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:index-of-string($arg, $substring)[last()]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The position(s) of a substring <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_index-of-string.html <br></br>
 @param   $arg the string <br></br>
 @param   $substring the substring to find <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e735">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:index-of-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e737">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e739">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">substring</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e741">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (contains($arg, $substring)) then (string-length(substring-before($arg, $substring))+1, for $other in functx:index-of-string(substring-after($arg, $substring), $substring) return $other + string-length(substring-before($arg, $substring)) + string-length($substring)) else ()</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Inserts a string at a specified position <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_insert-string.html <br></br>
 @param   $originalString the original string to insert into <br></br>
 @param   $stringToInsert the string to insert <br></br>
 @param   $pos the position <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e746">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:insert-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e748">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">originalString</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e750">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stringToInsert</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e752">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e754">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(substring($originalString,1,$pos - 1), $stringToInsert, substring($originalString,$pos))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a value is numeric <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-a-number.html <br></br>
 @param   $value the value to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e759">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-a-number</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e761">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e763">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">string(number($value)) != 'NaN'</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a URI is absolute <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-absolute-uri.html <br></br>
 @param   $uri the URI to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e769">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-absolute-uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e771">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e773">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">matches($uri,'^[a-z]+:')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is an ancestor of another node <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-ancestor.html <br></br>
 @param   $node1 the first node <br></br>
 @param   $node2 the second node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e778">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-ancestor</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e780">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e782">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e784">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">exists($node1 intersect $node2/ancestor::node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is a descendant of another node <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-descendant.html <br></br>
 @param   $node1 the first node <br></br>
 @param   $node2 the second node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e789">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-descendant</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e791">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e793">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e795">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">boolean($node2 intersect $node1/ancestor::node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a date falls in a leap year <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-leap-year.html <br></br>
 @param   $date the date or year <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e801">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-leap-year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e803">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e805">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $year in xs:integer(substring(string($date),1,4)) return ($year mod 4 = 0 and $year mod 100 != 0) or $year mod 400 = 0</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is among the descendants of a sequence, based on contents and attributes <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-node-among-descendants-deep-equal.html <br></br>
 @param   $node the node to test <br></br>
 @param   $seq the sequence of nodes to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e810">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-node-among-descendants-deep-equal</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e812">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e814">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e816">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">some $nodeInSeq in $seq/descendant-or-self::*/(.|@*) satisfies deep-equal($nodeInSeq,$node)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is among the descendants of a sequence, based on node identity <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-node-among-descendants.html <br></br>
 @param   $node the node to test <br></br>
 @param   $seq the sequence of nodes to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e821">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-node-among-descendants</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e823">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e825">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e827">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">some $nodeInSeq in $seq/descendant-or-self::*/(.|@*) satisfies $nodeInSeq is $node</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is in a sequence, based on contents and attributes <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-node-in-sequence-deep-equal.html <br></br>
 @param   $node the node to test <br></br>
 @param   $seq the sequence of nodes to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e833">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-node-in-sequence-deep-equal</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e835">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e837">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e839">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">some $nodeInSeq in $seq satisfies deep-equal($nodeInSeq,$node)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node is in a sequence, based on node identity <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-node-in-sequence.html <br></br>
 @param   $node the node to test <br></br>
 @param   $seq the sequence of nodes to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e844">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-node-in-sequence</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e846">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e848">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e850">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">some $nodeInSeq in $seq satisfies $nodeInSeq is $node</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an atomic value appears in a sequence  <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_is-value-in-sequence.html <br></br>
 @param   $value the atomic value to test <br></br>
 @param   $seq the sequence of values to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e855">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:is-value-in-sequence</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e857">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">value</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e859">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e861">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$value = $seq</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The last day of the month of a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_last-day-of-month.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e867">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:last-day-of-month</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e869">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e871">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:date(year-from-date(xs:date($date)), month-from-date(xs:date($date)), functx:days-in-month($date))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The last day of the month of a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_last-day-of-year.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e876">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:last-day-of-year</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e878">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e880">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:date(year-from-date(xs:date($date)), 12, 31)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML node in a sequence that is last in document order <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_last-node.html <br></br>
 @param   $nodes the sequence of nodes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e885">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:last-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e887">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e889">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">($nodes/.)[last()]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  All XML elements that don't have any child elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_leaf-elements.html <br></br>
 @param   $root the root <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e895">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:leaf-elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e897">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">root</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e899">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$root/descendant-or-self::*[not(*)]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Trims leading whitespace <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_left-trim.html <br></br>
 @param   $arg the string to trim <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e904">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:left-trim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e906">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e908">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg,'^\s+','')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The number of lines <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_line-count.html <br></br>
 @param   $arg the string to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e913">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:line-count</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e915">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e917">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">count(functx:lines($arg))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Split a string into separate lines <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_lines.html <br></br>
 @param   $arg the string to split <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e923">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:lines</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e925">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e927">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">tokenize($arg, '(\r\n?|\n\r?)')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The maximum depth of elements in an XML tree <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_max-depth.html <br></br>
 @param   $root the root to start from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e932">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:max-depth</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e934">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">root</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e936">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if ($root/*) then max($root/*/functx:max-depth(.)) + 1 else 1</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The maximum value in a sequence, figuring out its type (numeric or string) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_max-determine-type.html <br></br>
 @param   $seq the sequence of values to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e941">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:max-determine-type</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e943">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e945">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (every $value in $seq satisfies ($value castable as xs:double)) then max(for $value in $seq return xs:double($value)) else max(for $value in $seq return xs:string($value))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The maximum line length <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_max-line-length.html <br></br>
 @param   $arg the string to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e951">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:max-line-length</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e953">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e955">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">max( for $line in functx:lines($arg) return string-length($line))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML node whose typed value is the maximum <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_max-node.html <br></br>
 @param   $nodes the sequence of nodes to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e960">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:max-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e962">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e964">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes[. = max($nodes)]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The maximum of a sequence of values, treating them like strings <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_max-string.html <br></br>
 @param   $strings the sequence of values <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e969">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:max-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e971">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">strings</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e973">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">max(for $string in $strings return string($string))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The minimum value in a sequence, figuring out its type (numeric or string) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_min-determine-type.html <br></br>
 @param   $seq the sequence of values to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e979">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:min-determine-type</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e981">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e983">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (every $value in $seq satisfies ($value castable as xs:double)) then min(for $value in $seq return xs:double($value)) else min(for $value in $seq return xs:string($value))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML node whose typed value is the minimum <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_min-node.html <br></br>
 @param   $nodes the sequence of nodes to test <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e988">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:min-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e990">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e992">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes[. = min($nodes)]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The minimum of a sequence of strings, ignoring "empty" values <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_min-non-empty-string.html <br></br>
 @param   $strings the sequence of strings to search <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e997">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:min-non-empty-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e999">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">strings</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1001">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">min($strings[. != ''])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The minimum of a sequence of values, treating them like strings <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_min-string.html <br></br>
 @param   $strings the sequence of strings <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1007">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:min-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1009">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">strings</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1011">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">min(for $string in $strings return string($string))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Converts a string with format MMDDYYYY (with any delimiters) to a date <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_mmddyyyy-to-date.html <br></br>
 @param   $dateString the MMDDYYYY string <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1016">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:mmddyyyy-to-date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1018">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">dateString</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1020">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (empty($dateString)) then () else if (not(matches($dateString, '^\D*(\d{2})\D*(\d{2})\D*(\d{4})\D*$'))) then error(xs:QName('functx:Invalid_Date_Format')) else xs:date(replace($dateString, '^\D*(\d{2})\D*(\d{2})\D*(\d{4})\D*$', '$3-$1-$2'))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The month of a date as an abbreviated word (Jan, Feb, etc.) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_month-abbrev-en.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1025">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:month-abbrev-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1027">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1029">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec') [month-from-date(xs:date($date))]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The month of a date as a word (January, February, etc.) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_month-name-en.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1035">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:month-name-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1037">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1039">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">('January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December') [month-from-date(xs:date($date))]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether a name matches a list of names or name wildcards <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_name-test.html <br></br>
 @param   $testname the name to test <br></br>
 @param   $names the list of names or name wildcards <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1044">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:name-test</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1046">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">testname</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1048">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1050">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$testname = $names or $names = '*' or functx:substring-after-if-contains($testname,':') = (for $name in $names return substring-after($name,'*:')) or substring-before($testname,':') = (for $name in $names[contains(.,':*')] return substring-before($name,':*'))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  A list of namespaces used in element/attribute names in an XML fragment <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_namespaces-in-use.html <br></br>
 @param   $root the root node to start from <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1055">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:namespaces-in-use</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyURI*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1057">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">root</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1059">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values( $root/descendant-or-self::*/(.|@*)/namespace-uri(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The next day <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_next-day.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1065">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:next-day</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1067">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1069">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:date($date) + xs:dayTimeDuration('P1D')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The XML node kind (element, attribute, text, etc.) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_node-kind.html <br></br>
 @param   $nodes the node(s) whose kind you want to determine <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1074">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:node-kind</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1076">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1078">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $node in $nodes return if ($node instance of element()) then 'element' else if ($node instance of attribute()) then 'attribute' else if ($node instance of text()) then 'text' else if ($node instance of document-node()) then 'document-node' else if ($node instance of comment()) then 'comment' else if ($node instance of processing-instruction()) then 'processing-instruction' else 'unknown'</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Returns any values that appear more than once in a sequence <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_non-distinct-values.html <br></br>
 @param   $seq the sequence of values <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1083">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:non-distinct-values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1085">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1087">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">for $val in distinct-values($seq) return $val[count($seq[. = $val]) &amp;gt; 1]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The number of regions that match a pattern <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_number-of-matches.html <br></br>
 @param   $arg the string to test <br></br>
 @param   $pattern the regular expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1093">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:number-of-matches</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1095">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1097">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pattern</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1099">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">count(tokenize($arg,$pattern)) - 1</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Resolves a relative URI and references it, returning an XML document <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_open-ref-document.html <br></br>
 @param   $refNode a node whose value is a relative URI reference <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1104">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:open-ref-document</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1106">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">refNode</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1108">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (base-uri($refNode)) then doc(resolve-uri($refNode, base-uri($refNode))) else doc(resolve-uri($refNode))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Reformats a number as an ordinal number, e.g. 1st, 2nd, 3rd. <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_ordinal-number-en.html <br></br>
 @param   $num the number <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1113">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:ordinal-number-en</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1115">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">num</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1117">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(xs:string($num), if (matches(xs:string($num),'[04-9]$|1[1-3]$')) then 'th' else if (ends-with(xs:string($num),'1')) then 'st' else if (ends-with(xs:string($num),'2')) then 'nd' else if (ends-with(xs:string($num),'3')) then 'rd' else '')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Pads an integer to a desired length by adding leading zeros <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_pad-integer-to-length.html <br></br>
 @param   $integerToPad the integer to pad <br></br>
 @param   $length the desired length <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1123">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:pad-integer-to-length</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1125">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">integerToPad</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1127">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">length</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1129">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if ($length &amp;lt; string-length(string($integerToPad))) then error(xs:QName('functx:Integer_Longer_Than_Length')) else concat (functx:repeat-string( '0',$length - string-length(string($integerToPad))), string($integerToPad))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Pads a string to a desired length <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_pad-string-to-length.html <br></br>
 @param   $stringToPad the string to pad <br></br>
 @param   $padChar the character(s) to use as padding <br></br>
 @param   $length the desired length <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1134">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:pad-string-to-length</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1136">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stringToPad</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1138">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">padChar</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1140">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">length</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1142">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">substring( string-join ( ($stringToPad, for $i in (1 to $length) return $padChar) ,'') ,1,$length)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  A unique path to an XML node (or sequence of nodes) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_path-to-node-with-pos.html <br></br>
 @param   $node the node sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1147">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:path-to-node-with-pos</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1149">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
 </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1151">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1153">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$node/ancestor-or-self::*</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1155">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">ancestor</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1157">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sibsOfSameName</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$ancestor/../*[name() = name($ancestor)]</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1159">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(name($ancestor), if (count($sibsOfSameName) &amp;lt;= 1) then '' else concat( '[',functx:index-of-node($sibsOfSameName,$ancestor),']'))</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
 </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1163">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">string-join($names,'/')</span>" /&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  A path to an XML node (or sequence of nodes) <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_path-to-node.html <br></br>
 @param   $nodes the node sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1169">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:path-to-node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1171">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1173">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes/string-join(ancestor-or-self::*/name(.), '/')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether an XML node precedes another without being its ancestor <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_precedes-not-ancestor.html <br></br>
 @param   $a the first node <br></br>
 @param   $b the second node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1178">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:precedes-not-ancestor</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1180">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">a</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1182">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">b</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1184">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$a &amp;lt;&amp;lt; $b and empty($a intersect $b/ancestor::node())</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The previous day <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_previous-day.html <br></br>
 @param   $date the date <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1189">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:previous-day</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:date?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1191">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">date</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1193">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:date($date) - xs:dayTimeDuration('P1D')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Removes attributes from an XML fragment, based on name <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_remove-attributes-deep.html <br></br>
 @param   $nodes the root(s) to start from <br></br>
 @param   $names the names of the attributes to remove, or * for all attributes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1199">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:remove-attributes-deep</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1201">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1203">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1205">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1207">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1209">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of element()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1211">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1213">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(@*[not(functx:name-test(name(),$names))], functx:remove-attributes-deep(node(), $names))</span>" /&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1217">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1219">document</a></span>&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1221">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:remove-attributes-deep(node(), $names)</span>" /&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">document</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1225">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1227">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Removes attributes from an XML element, based on name <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_remove-attributes.html <br></br>
 @param   $elements the element(s) from which to remove the attributes <br></br>
 @param   $names the names of the attributes to remove, or * for all attributes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1235">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:remove-attributes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1237">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1239">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1241">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1243">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1245">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(@*[not(functx:name-test(name(),$names))], node())</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Removes descendant elements from an XML node, based on name <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_remove-elements-deep.html <br></br>
 @param   $nodes root(s) to start from <br></br>
 @param   $names the names of the elements to remove <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1252">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:remove-elements-deep</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1254">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1256">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1258">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1260">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1262">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of element()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1264">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">not(functx:name-test(name(),$names))</span>"&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1266">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1268">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*, functx:remove-elements-deep(node(), $names)</span>" /&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1273">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1275">document</a></span>&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1277">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:remove-elements-deep(node(), $names)</span>" /&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">document</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1281">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1283">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Removes descendant XML elements but keeps their content <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_remove-elements-not-contents.html <br></br>
 @param   $nodes the root(s) to start from <br></br>
 @param   $names the names of the elements to remove <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1292">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:remove-elements-not-contents</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1294">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">nodes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1296">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1298">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$nodes</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1300">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1302">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of element()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1304">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1306">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">functx:name-test(name(),$names)</span>"&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1308">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:remove-elements-not-contents(node(), $names)</span>" /&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1311">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1313">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
               </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1315">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*, functx:remove-elements-not-contents(node(),$names)</span>" /&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
           </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1321">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">. instance of document-node()</span>"&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1323">document</a></span>&gt;<span class="xmlverb-text"><br></br>
             </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1325">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">functx:remove-elements-not-contents(node(), $names)</span>" /&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">document</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1329">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
         </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1331">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Removes child elements from an XML node, based on name <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_remove-elements.html <br></br>
 @param   $elements the element(s) from which you wish to remove the children <br></br>
 @param   $names the names of the child elements to remove <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1339">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:remove-elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1341">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1343">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">names</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1345">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1347">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1349">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(@*, node()[not(functx:name-test(name(),$names))])</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Repeats a string a given number of times <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_repeat-string.html <br></br>
 @param   $stringToRepeat the string to repeat <br></br>
 @param   $count the desired number of copies <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1356">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:repeat-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1358">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stringToRepeat</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1360">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">count</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1362">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">string-join((for $i in 1 to $count return $stringToRepeat), '')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Replaces the beginning of a string, up to a matched pattern <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_replace-beginning.html <br></br>
 @param   $arg the entire string to change <br></br>
 @param   $pattern the pattern of characters to replace up to <br></br>
 @param   $replacement the replacement string <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1368">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:replace-beginning</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1370">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1372">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pattern</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1374">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">replacement</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1376">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg, concat('^.*?', $pattern), $replacement)</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Updates the content of one or more elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_replace-element-values.html <br></br>
 @param   $elements the elements whose content you wish to replace <br></br>
 @param   $values the replacement values <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1381">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:replace-element-values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1383">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1385">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1387">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1389">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1391">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>"&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1393">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*, $values[$seq]</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Replaces the first match of a pattern <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_replace-first.html <br></br>
 @param   $arg the entire string to change <br></br>
 @param   $pattern the pattern of characters to replace <br></br>
 @param   $replacement the replacement string <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1400">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:replace-first</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1402">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1404">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pattern</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1406">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">replacement</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1408">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg, concat('(^.*?)', $pattern), concat('$1',$replacement))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Performs multiple replacements, using pairs of replace parameters <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_replace-multi.html <br></br>
 @param   $arg the string to manipulate <br></br>
 @param   $changeFrom the sequence of strings or patterns to change from <br></br>
 @param   $changeTo the sequence of strings to change to <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1414">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:replace-multi</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1416">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1418">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">changeFrom</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1420">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">changeTo</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1422">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (count($changeFrom) &amp;gt; 0) then functx:replace-multi( replace($arg, $changeFrom[1], functx:if-absent($changeTo[1],'')), $changeFrom[position() &amp;gt; 1], $changeTo[position() &amp;gt; 1]) else $arg</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Reverses the order of characters <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_reverse-string.html <br></br>
 @param   $arg the string to reverse <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1427">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:reverse-string</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1429">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1431">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">codepoints-to-string(reverse(string-to-codepoints($arg)))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Trims trailing whitespace <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_right-trim.html <br></br>
 @param   $arg the string to trim <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1436">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:right-trim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1438">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1440">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg,'\s+$','')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Returns the scheme from a URI <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_scheme-from-uri.html <br></br>
 @param   $uri the URI <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1446">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:scheme-from-uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1448">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1450">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">substring-before($uri,':')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether two sequences have the same XML node content and/or values <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sequence-deep-equal.html <br></br>
 @param   $seq1 the first sequence <br></br>
 @param   $seq2 the second sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1455">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sequence-deep-equal</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1457">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1459">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1461">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">every $i in 1 to max((count($seq1),count($seq2))) satisfies deep-equal($seq1[$i],$seq2[$i])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether two sequences contain the same XML nodes, regardless of order <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sequence-node-equal-any-order.html <br></br>
 @param   $seq1 the first sequence of nodes <br></br>
 @param   $seq2 the second sequence of nodes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1466">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sequence-node-equal-any-order</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1468">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1470">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1472">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">not( ($seq1 except $seq2, $seq2 except $seq1))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Whether two sequences contain the same XML nodes, in the same order <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sequence-node-equal.html <br></br>
 @param   $seq1 the first sequence of nodes <br></br>
 @param   $seq2 the second sequence of nodes <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1478">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sequence-node-equal</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:boolean</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1480">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1482">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1484">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">every $i in 1 to max((count($seq1),count($seq2))) satisfies $seq1[$i] is $seq2[$i]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The sequence type that represents a sequence of nodes or values <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sequence-type.html <br></br>
 @param   $items the items whose sequence type you want to determine <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1489">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sequence-type</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1491">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">items</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1493">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat( if (empty($items)) then 'empty-sequence()' else if (every $val in $items satisfies $val instance of xs:anyAtomicType) then if (count(distinct-values(functx:atomic-type($items))) &amp;gt; 1) then 'xs:anyAtomicType' else functx:atomic-type($items[1]) else if (some $val in $items satisfies $val instance of xs:anyAtomicType) then 'item()' else if (count(distinct-values(functx:node-kind($items))) &amp;gt; 1) then 'node()' else concat(functx:node-kind($items[1]),'()') , if (count($items) &amp;gt; 1) then '+' else '')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The siblings of an XML element that have the same name <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_siblings-same-name.html <br></br>
 @param   $element the node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1498">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:siblings-same-name</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1500">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1502">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$element/../*[node-name(.) = node-name($element)] except $element</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The siblings of an XML node <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_siblings.html <br></br>
 @param   $node the node <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1508">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:siblings</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1510">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">node</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1512">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$node/../node() except $node</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Sorts a sequence of numeric values or nodes <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sort-as-numeric.html <br></br>
 @param   $seq the sequence to sort <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1517">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sort-as-numeric</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1519">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1521">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$seq</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1523">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">number(.)</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1525">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Sorts a sequence of values or nodes regardless of capitalization <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sort-case-insensitive.html <br></br>
 @param   $seq the sequence to sort <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1531">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sort-case-insensitive</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1533">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1535">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$seq</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1537">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">upper-case(string(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1539">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Sorts a sequence of nodes in document order <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sort-document-order.html <br></br>
 @param   $seq the sequence to sort <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1546">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sort-document-order</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1548">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">node()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1550">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$seq/.</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Sorts a sequence of values or nodes <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_sort.html <br></br>
 @param   $seq the sequence to sort <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1555">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:sort</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1557">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">item()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1559">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$seq</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1561">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1563">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Performs substring-after, returning the entire string if it does not contain the delimiter <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-after-if-contains.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $delim the delimiter <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1569">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-after-if-contains</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1571">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1573">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">delim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1575">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (contains($arg,$delim)) then substring-after($arg,$delim) else $arg</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring after the last text that matches a regex <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-after-last-match.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $regex the regular expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1581">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-after-last-match</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1583">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1585">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">regex</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1587">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg,concat('^.*',$regex),'')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring after the last occurrence of a delimiter <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-after-last.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $delim the delimiter <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1592">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-after-last</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1594">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1596">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">delim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1598">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace ($arg,concat('^.*',functx:escape-for-regex($delim)),'')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring after the first text that matches a regex <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-after-match.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $regex the regular expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1603">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-after-match</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1605">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1607">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">regex</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1609">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg,concat('^.*?',$regex),'')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Performs substring-before, returning the entire string if it does not contain the delimiter <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-before-if-contains.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $delim the delimiter <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1615">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-before-if-contains</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1617">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1619">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">delim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1621">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (contains($arg,$delim)) then substring-before($arg,$delim) else $arg</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring after the first text that matches a regex <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-before-last-match.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $regex the regular expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1626">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-before-last-match</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1628">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1630">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">regex</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1632">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace($arg,concat('^(.*)',$regex,'.*'),'$1')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring before the last occurrence of a delimiter <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-before-last.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $delim the delimiter <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1637">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-before-last</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1639">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1641">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">delim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1643">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (matches($arg, functx:escape-for-regex($delim))) then replace($arg, concat('^(.*)', functx:escape-for-regex($delim),'.*'), '$1') else ''</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The substring before the last text that matches a regex <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_substring-before-match.html <br></br>
 @param   $arg the string to substring <br></br>
 @param   $regex the regular expression <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1649">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:substring-before-match</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1651">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1653">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">regex</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1655">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">tokenize($arg,$regex)[1]</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Construct a time from an hour, minute and second <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_time.html <br></br>
 @param   $hour the hour <br></br>
 @param   $minute the minute <br></br>
 @param   $second the second <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1660">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:time</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:time</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1662">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">hour</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1664">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">minute</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1666">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">second</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1668">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:time( concat( functx:pad-integer-to-length(xs:integer($hour),2),':', functx:pad-integer-to-length(xs:integer($minute),2),':', functx:pad-integer-to-length(xs:integer($second),2)))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Converts an xs:dayTimeDuration into a timezone like "-05:00" or "Z" <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_timezone-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1673">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:timezone-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1675">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1677">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if (string($duration) = ('PT0S','-PT0S')) then 'Z' else if (matches(string($duration),'-PT[1-9]H')) then replace(string($duration),'PT([1-9])H','0$1:00') else if (matches(string($duration),'PT[1-9]H')) then replace(string($duration),'PT([1-9])H','+0$1:00') else if (matches(string($duration),'-PT1[0-4]H')) then replace(string($duration),'PT(1[0-4])H','$1:00') else if (matches(string($duration),'PT1[0-4]H')) then replace(string($duration),'PT(1[0-4])H','+$1:00') else error(xs:QName('functx:Invalid_Duration_Value'))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of days in a dayTimeDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-days-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1683">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-days-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1685">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1687">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:dayTimeDuration('P1D')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of hours in a dayTimeDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-hours-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1692">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-hours-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1694">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1696">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:dayTimeDuration('PT1H')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of minutes in a dayTimeDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-minutes-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1701">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-minutes-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1703">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1705">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:dayTimeDuration('PT1M')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of months in a yearMonthDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-months-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1711">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-months-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1713">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:yearMonthDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1715">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:yearMonthDuration('P1M')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of seconds in a dayTimeDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-seconds-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1720">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-seconds-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1722">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:dayTimeDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1724">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:dayTimeDuration('PT1S')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The total number of years in a yearMonthDuration <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_total-years-from-duration.html <br></br>
 @param   $duration the duration <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1729">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:total-years-from-duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1731">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">duration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:yearMonthDuration?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1733">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$duration div xs:yearMonthDuration('P1Y')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Trims leading and trailing whitespace <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_trim.html <br></br>
 @param   $arg the string to trim <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1739">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:trim</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1741">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1743">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">replace(replace($arg,'\s+$',''),'^\s+','')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Updates the attribute value of an XML element <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_update-attributes.html <br></br>
 @param   $elements the element(s) for which you wish to update the attribute <br></br>
 @param   $attrNames the name(s) of the attribute(s) to add <br></br>
 @param   $attrValues the value(s) of the attribute(s) to add <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1748">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:update-attributes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()?</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1750">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1752">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrNames</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1754">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">attrValues</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1756">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$elements</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1758">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">element</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1760">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1762">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrNames</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1764">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">seq</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1766">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$element/@*[node-name(.) = current()]</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1768">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{.}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{namespace-uri-from-QName(.)}</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$attrValues[$seq]</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1772">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*[not(node-name(.) = $attrNames)]|node()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The values in one sequence that aren't in another sequence <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_value-except.html <br></br>
 @param   $arg1 the first sequence <br></br>
 @param   $arg2 the second sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1779">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:value-except</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1781">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1783">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1785">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values($arg1[not(.=$arg2)])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The intersection of two sequences of values <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_value-intersect.html <br></br>
 @param   $arg1 the first sequence <br></br>
 @param   $arg2 the second sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1791">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:value-intersect</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1793">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1795">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1797">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values($arg1[.=$arg2])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The union of two sequences of values <br></br>
<br></br>
 @author  W3C XML Query Working Group <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_value-union.html <br></br>
 @param   $arg1 the first sequence <br></br>
 @param   $arg2 the second sequence <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1802">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:value-union</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1804">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg1</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1806">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg2</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1808">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">distinct-values(($arg1, $arg2))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  The number of words <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_word-count.html <br></br>
 @param   $arg the string to measure <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1813">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:word-count</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1815">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1817">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">count(tokenize($arg, '\W+')[. != ''])</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Turns a string of words into camelCase <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_words-to-camel-case.html <br></br>
 @param   $arg the string to modify <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1823">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:words-to-camel-case</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1825">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">arg</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1827">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">string-join((tokenize($arg,'\s+')[1], for $word in tokenize($arg,'\s+')[position() &amp;gt; 1] return functx:capitalize-first($word)) ,'')</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Wraps a sequence of atomic values in XML elements <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_wrap-values-in-elements.html <br></br>
 @param   $values the values to wrap in elements <br></br>
 @param   $elementName the name of the elements to construct <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1832">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:wrap-values-in-elements</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1834">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">values</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:anyAtomicType*</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1836">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">elementName</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:QName</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
   </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1838">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$values</span>"&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1840">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{$elementName}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">{namespace-uri-from-QName($elementName)}</span>"&gt;<span class="xmlverb-text"><br></br>
       </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1842">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
     </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
   </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
 <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
  Construct a yearMonthDuration from a number of years and months <br></br>
<br></br>
 @author  Priscilla Walmsley, Datypic <br></br>
 @version 1.0 <br></br>
 @see     http://www.xsltfunctions.com/xsl/functx_yearmonthduration.html <br></br>
 @param   $years the number of years <br></br>
 @param   $months the number of months <br></br>
</span>--&gt;<span class="xmlverb-text"> <br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1849">function</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">functx:yearMonthDuration</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:yearMonthDuration</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1851">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">years</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:decimal?</span>" /&gt;<span class="xmlverb-text"> <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1853">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">months</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:integer?</span>" /&gt;<span class="xmlverb-text"> <br></br>
 <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d54e1855">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">(xs:yearMonthDuration('P1M') * functx:if-empty($months,0)) + (xs:yearMonthDuration('P1Y') * functx:if-empty($years,0))</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">function</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">stylesheet</span>&gt;<br></br>
</div>
</tt><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>v
         </body></html>
